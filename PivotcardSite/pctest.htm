<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" />
<title>Remember The Milk signup form - jQuery Validate plugin demo - with friendly permission from the RTM team</title>

<link rel="stylesheet" type="text/css" media="screen" href="milk.css" />
<link rel="stylesheet" type="text/css" media="screen" href="../css/chili.css" />

<script src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-1.7.min.js" type="text/javascript"></script>
<script src="http://ajax.aspnetcdn.com/ajax/jquery.validate/1.9/jquery.validate.min.js" type="text/javascript"></script>

<style type="text/css">
	pre { text-align: left; }
</style>

<script language="javascript" type="text/javascript">
    $(document).bind("ready", function () {
        //        $("#form1").validate({
        //            // This prevents validation from running on every
        //            //  form submission by default.
        //            onsubmit: false
        //        });

        //validation rules
        $("#form1").validate({
            rules: {
                pivotCodeInput: "required",
                pivotUrlInput: {
                    required: true,
                    url: true
                }
            },
            messages: {
                pivotCodeInput: "Enter a Pivot code",
                pivotUrlInput: {
                    required: "Enter a valid URL"
                }
            },
            // the errorPlacement has to take the table layout into account
            errorPlacement: function (error, element) {
                error.appendTo(element.parent().next());
            },
            submitHandler: function () {
                alert("submitted!");
            }
        });

        $("#signupwrap").show();

        $("#btnCheck").click(function (e) {
            e.preventDefault();
            //alert($("#pivotUrlInput").valid());
            var isValid;
            //alert($(".pivotCodeValidate")[0].id);
            $(".pivotCodeValidate").each(function (i) {
                alert(!$(this).valid());
                if (!$(this).valid())
                    isValid = false;
            });

            alert(isValid);
        });
    });

       
</script>

</head>
<body>

<h1 id="banner"><a href="http://bassistance.de/jquery-plugins/jquery-plugin-validation/">jQuery Validation Plugin</a> Demo</h1>
<div id="main">
<form method="post" action="my-pivots.aspx" id="form1">
<div id="content">

<div id="header">
  <div id="headerlogo"><img src="milk.png" alt="Remember The Milk" /></div>
</div>
<div style="clear: both;"><div></div></div>


<div class="content">
    <div id="signupbox">
       <div id="signuptab">
        <ul>
          <li id="signupcurrent"><a href=" ">Signup</a></li>
        </ul>
      </div>
      <div id="signupwrap" style="display:none">
     
        <span class="labelText">Pivot shortcut</span>
        <input type="text" id="pivotCodeInput" name="pivotCodeInput" class="pivotCodeValidate" style="float:left; width:200px"/>
        <span class="exampleText">(e.g. FB or # or 123)</span>
        <br /><br />
        <span name="urlBox" class="labelText">Web Address</span>
        <input type="text" id="pivotUrlInput" name="pivotUrlInput"  class="pivotCodeValidate" style="width:200px"/>
        <span class="exampleText">(e.g. www.twitter.com/yourname)</span>
        <br /><br />
        <span class="labelText">Set as default</span><input id="pivotDefaultInput" style="margin-top:3px" type='checkbox'/>
        <input type="text" id="pivotIdInput" style="float:left; width:0px; visibility:hidden"/>
     
        <div style="float:left; padding-left:30px; width:100%; margin-top:15px;  margin-bottom:25px; font-size:14pt; color:#434343;"><div style="float:left">This Pivot is: http://pivotcard.com/ </div><div id="pivotEditLink" style="float:left;"></div></div>
        <div class="editButtons"><input type="submit" style="float:left; margin-left:170px" class="save" value="Save"/><div style="float:left; margin-left:170px" class="cancel">Cancel</div></div>
       

      </div>
        <div id="btnCheck" style="cursor:pointer">Check</div>
    </div>
</div>

</div>
</form>
</div>

</body>
</html>